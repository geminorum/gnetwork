(function(){tinymce.PluginManager.add("gnetworksearch",function(b,a){b.addShortcut("ctrl+3",b.getLang("gnetwork.gnetworksearch-title"),"gnetworksearch");b.addCommand("gnetworksearch",function(){var c=b.selection.getContent();b.insertContent("[search]"+(c?c+"[/search]":""))});b.addButton("gnetworksearch",{title:b.getLang("gnetwork.gnetworksearch-attr"),icon:"icon gnetwork-tinymce-icon icon-gnetworksearch",onclick:function(){var c=b.selection.getContent();b.windowManager.open({title:b.getLang("gnetwork.gnetworksearch-title"),minWidth:450,body:[{type:"textbox",name:"text",label:b.getLang("gnetwork.gnetworksearch-text"),value:c,},{type:"textbox",name:"query",label:b.getLang("gnetwork.gnetworksearch-query"),autofocus:c,}],buttons:[{text:"Insert",subtype:"primary",onclick:"submit"},{text:"Close",onclick:"close"}],onsubmit:function(d){b.insertContent((d.data.query?'[search for="'+d.data.query+'"]':"[search]")+(d.data.text?d.data.text+"[/search]":""))}})}})})})();