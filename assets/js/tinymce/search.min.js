(function(a){a.PluginManager.add("gnetworksearch",function(c,b){c.addShortcut("ctrl+3",c.getLang("gnetwork.gnetworksearch-title"),"gnetworksearch");c.addCommand("gnetworksearch",function(){var d=c.selection.getContent();c.insertContent("[search]"+(d?d+"[/search]":""))});c.addButton("gnetworksearch",{title:c.getLang("gnetwork.gnetworksearch-attr"),icon:"icon gnetwork-tinymce-icon icon-gnetworksearch",onclick:function(){var d=c.selection.getContent();c.windowManager.open({title:c.getLang("gnetwork.gnetworksearch-title"),minWidth:450,body:[{type:"textbox",name:"text",label:c.getLang("gnetwork.gnetworksearch-text"),value:d},{type:"textbox",name:"query",label:c.getLang("gnetwork.gnetworksearch-query"),autofocus:d}],buttons:[{text:"Insert",subtype:"primary",onclick:"submit"},{text:"Close",onclick:"close"}],onsubmit:function(f){c.insertContent((f.data.query?'[search for="'+f.data.query+'"]':"[search]")+(f.data.text?f.data.text+"[/search]":""))}})}})})})(window.tinymce);