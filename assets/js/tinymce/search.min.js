window.tinymce.PluginManager.add("gnetworksearch",function(e,t){e.addShortcut("ctrl+3",e.getLang("gnetwork.gnetworksearch-title"),"gnetworksearch"),e.addCommand("gnetworksearch",function(){var t=e.selection.getContent();e.insertContent("[search]"+(t?t+"[/search]":""))}),e.addButton("gnetworksearch",{title:e.getLang("gnetwork.gnetworksearch-attr"),icon:"icon gnetwork-tinymce-icon icon-gnetworksearch",onclick:function(){var t=e.selection.getContent();e.windowManager.open({title:e.getLang("gnetwork.gnetworksearch-title"),minWidth:450,body:[{type:"textbox",name:"text",label:e.getLang("gnetwork.gnetworksearch-text"),value:t},{type:"textbox",name:"query",label:e.getLang("gnetwork.gnetworksearch-query"),autofocus:t}],buttons:[{text:"Insert",subtype:"primary",onclick:"submit"},{text:"Close",onclick:"close"}],onsubmit:function(t){e.insertContent((t.data.query?'[search for="'+t.data.query+'"]':"[search]")+(t.data.text?t.data.text+"[/search]":""))}})}})});