(function(a){a.PluginManager.add("gnetworkquote",function(c,b){c.addButton("gnetworkquote",{title:c.getLang("gnetwork.gnetworkquote-attr"),icon:"icon gnetwork-tinymce-icon icon-gnetworkquote",onclick:function(){var d=c.selection.getContent();c.windowManager.open({title:c.getLang("gnetwork.gnetworkquote-title"),minWidth:450,body:[{type:"textbox",name:"text",label:c.getLang("gnetwork.gnetworkquote-text"),value:d,multiline:true,minHeight:130},{type:"textbox",name:"cite",label:c.getLang("gnetwork.gnetworkquote-cite"),autofocus:d},{type:"textbox",name:"url",label:c.getLang("gnetwork.gnetworkquote-url"),style:"direction:ltr;text-align:left;"},{type:"radio",name:"epigraph",label:c.getLang("gnetwork.gnetworkquote-epigraph")},{type:"radio",name:"rev",label:c.getLang("gnetwork.gnetworkquote-rev")},{type:"listbox",name:"align",label:c.getLang("gnetwork.gnetworkquote-align"),values:[{text:"None",value:"none"},{text:"Left",value:"left"},{text:"Right",value:"right"},{text:"Center",value:"center"}]}],buttons:[{text:"Insert",subtype:"primary",onclick:"submit"},{text:"Close",onclick:"close"}],onsubmit:function(h){if(h.data.text){var g=[];if(h.data.epigraph){g.push("epigraph");g.push("-epigraph")}if(h.data.rev){g.push("blockquote-reverse");g.push("-reverse")}if(h.data.align!=="none"){g.push("align"+h.data.align);g.push("-align-"+h.data.align)}var f=g.length>0?'<blockquote class="'+g.join(" ")+'">':"<blockquote>";if(h.data.cite){if(h.data.url){c.insertContent(f+h.data.text+'<footer><cite><a href="'+h.data.url+'">'+h.data.cite+"</a></cite></footer></blockquote>")}else{c.insertContent(f+h.data.text+"<footer><cite>"+h.data.cite+"</cite></footer></blockquote>")}}else{c.insertContent(f+h.data.text+"</blockquote>")}}}})}})})})(window.tinymce);