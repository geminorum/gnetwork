(function(){tinymce.PluginManager.add("gnetworkquote",function(b,a){b.addButton("gnetworkquote",{title:b.getLang("gnetwork.gnetworkquote-attr"),icon:"icon gnetwork-tinymce-icon icon-gnetworkquote",onclick:function(){var c=b.selection.getContent();b.windowManager.open({title:b.getLang("gnetwork.gnetworkquote-title"),minWidth:450,body:[{type:"textbox",name:"text",label:b.getLang("gnetwork.gnetworkquote-text"),value:c,multiline:true,minHeight:130,},{type:"textbox",name:"cite",label:b.getLang("gnetwork.gnetworkquote-cite"),autofocus:c,},{type:"textbox",name:"url",label:b.getLang("gnetwork.gnetworkquote-url"),style:"direction:ltr;text-align:left;",},{type:"listbox",name:"align",label:b.getLang("gnetwork.gnetworkquote-align"),values:[{text:"None",value:"none"},{text:"Left",value:"left"},{text:"Right",value:"right"},{text:"Center",value:"center"}]},{type:"radio",name:"intro",label:b.getLang("gnetwork.gnetworkquote-intro"),}],buttons:[{text:"Insert",subtype:"primary",onclick:"submit"},{text:"Close",onclick:"close"}],onsubmit:function(f){if(f.data.text){var d="<blockquote>";if(f.data.intro){d="none"==f.data.align?'<blockquote class="intro-quote">':'<blockquote class="intro-quote align'+f.data.align+'">'}else{d="none"==f.data.align?"<blockquote>":'<blockquote class="align'+f.data.align+'">'}if(f.data.cite){if(f.data.url){b.insertContent(d+f.data.text+'<br /><cite><a href="'+f.data.url+'">'+f.data.cite+"</a></cite></blockquote>")}else{b.insertContent(d+f.data.text+"<br /><cite>"+f.data.cite+"</cite></blockquote>")}}else{b.insertContent(d+f.data.text+"</blockquote>")}}}})}})})})();