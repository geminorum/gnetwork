window.tinymce.PluginManager.add("gnetworkquote",function(n,t){n.addButton("gnetworkquote",{title:n.getLang("gnetwork.gnetworkquote-attr"),icon:"icon gnetwork-tinymce-icon icon-gnetworkquote",onclick:function(){var t=n.selection.getContent();n.windowManager.open({title:n.getLang("gnetwork.gnetworkquote-title"),minWidth:450,body:[{type:"textbox",name:"text",label:n.getLang("gnetwork.gnetworkquote-text"),value:t,multiline:!0,minHeight:130},{type:"textbox",name:"cite",label:n.getLang("gnetwork.gnetworkquote-cite"),autofocus:t},{type:"textbox",name:"url",label:n.getLang("gnetwork.gnetworkquote-url"),style:"direction:ltr;text-align:left;"},{type:"radio",name:"epigraph",label:n.getLang("gnetwork.gnetworkquote-epigraph")},{type:"radio",name:"rev",label:n.getLang("gnetwork.gnetworkquote-rev")},{type:"listbox",name:"align",label:n.getLang("gnetwork.gnetworkquote-align"),values:[{text:"None",value:"none"},{text:"Left",value:"left"},{text:"Right",value:"right"},{text:"Center",value:"center"}]}],buttons:[{text:"Insert",subtype:"primary",onclick:"submit"},{text:"Close",onclick:"close"}],onsubmit:function(t){var e;t.data.text&&(e=[],t.data.epigraph&&(e.push("epigraph"),e.push("-epigraph")),t.data.rev&&(e.push("blockquote-reverse"),e.push("-reverse")),"none"!==t.data.align&&(e.push("align"+t.data.align),e.push("-align-"+t.data.align)),e=0<e.length?'<blockquote class="'+e.join(" ")+'">':"<blockquote>",t.data.cite?t.data.url?n.insertContent(e+t.data.text+'<footer><cite><a href="'+t.data.url+'">'+t.data.cite+"</a></cite></footer></blockquote>"):n.insertContent(e+t.data.text+"<footer><cite>"+t.data.cite+"</cite></footer></blockquote>"):n.insertContent(e+t.data.text+"</blockquote>"))}})}})});