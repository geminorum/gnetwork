!function(t){t.PluginManager.add("gnetworkquote",function(t,e){t.addButton("gnetworkquote",{title:t.getLang("gnetwork.gnetworkquote-attr"),icon:"icon gnetwork-tinymce-icon icon-gnetworkquote",onclick:function(){var e=t.selection.getContent();t.windowManager.open({title:t.getLang("gnetwork.gnetworkquote-title"),minWidth:450,body:[{type:"textbox",name:"text",label:t.getLang("gnetwork.gnetworkquote-text"),value:e,multiline:!0,minHeight:130},{type:"textbox",name:"cite",label:t.getLang("gnetwork.gnetworkquote-cite"),autofocus:e},{type:"textbox",name:"url",label:t.getLang("gnetwork.gnetworkquote-url"),style:"direction:ltr;text-align:left;"},{type:"radio",name:"epigraph",label:t.getLang("gnetwork.gnetworkquote-epigraph")},{type:"radio",name:"rev",label:t.getLang("gnetwork.gnetworkquote-rev")},{type:"listbox",name:"align",label:t.getLang("gnetwork.gnetworkquote-align"),values:[{text:"None",value:"none"},{text:"Left",value:"left"},{text:"Right",value:"right"},{text:"Center",value:"center"}]}],buttons:[{text:"Insert",subtype:"primary",onclick:"submit"},{text:"Close",onclick:"close"}],onsubmit:function(e){if(e.data.text){var n=[];e.data.epigraph&&(n.push("epigraph"),n.push("-epigraph")),e.data.rev&&(n.push("blockquote-reverse"),n.push("-reverse")),"none"!==e.data.align&&(n.push("align"+e.data.align),n.push("-align-"+e.data.align));var o=n.length>0?'<blockquote class="'+n.join(" ")+'">':"<blockquote>";e.data.cite?e.data.url?t.insertContent(o+e.data.text+'<footer><cite><a href="'+e.data.url+'">'+e.data.cite+"</a></cite></footer></blockquote>"):t.insertContent(o+e.data.text+"<footer><cite>"+e.data.cite+"</cite></footer></blockquote>"):t.insertContent(o+e.data.text+"</blockquote>")}}})}})})}(window.tinymce);