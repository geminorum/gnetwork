(function(a){a.PluginManager.add("gnetworkemail",function(c,b){c.addShortcut("ctrl+e",c.getLang("gnetwork.gnetworkemail-title"),"gnetworkemail");c.addCommand("gnetworkemail",function(){var d=c.selection.getContent();c.insertContent("[email]"+(d?d+"[/email]":""))});c.addButton("gnetworkemail",{title:c.getLang("gnetwork.gnetworkemail-attr"),icon:"icon gnetwork-tinymce-icon icon-gnetworkemail",onclick:function(){var d=c.selection.getContent();c.windowManager.open({title:c.getLang("gnetwork.gnetworkemail-title"),minWidth:450,body:[{type:"textbox",name:"email",label:c.getLang("gnetwork.gnetworkemail-email"),value:d,style:"direction:ltr;text-align:left;",},{type:"textbox",name:"text",label:c.getLang("gnetwork.gnetworkemail-text"),value:d,},{type:"textbox",name:"subject",label:c.getLang("gnetwork.gnetworkemail-subject"),autofocus:d,},{type:"textbox",name:"hover",label:c.getLang("gnetwork.gnetworkemail-hover"),}],buttons:[{text:"Insert",subtype:"primary",onclick:"submit"},{text:"Close",onclick:"close"}],onsubmit:function(g){var f="[email"+(g.data.subject?' subject="'+g.data.subject+'"':"")+(g.data.hover?' title="'+g.data.hover+'"':"");if(g.data.email&&g.data.text&&g.data.text==g.data.email){c.insertContent(f+"]"+g.data.email+"[/email]")}else{if(!g.data.text){c.insertContent(f+"]"+g.data.email+"[/email]")}else{if(!g.data.email){c.insertContent(f+' content="'+g.data.text+'" /]')}else{c.insertContent(f+' email="'+g.data.email+'"]'+g.data.text+"[/email]")}}}}})}})})})(window.tinymce);