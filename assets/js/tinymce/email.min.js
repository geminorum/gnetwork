!function(t){t.PluginManager.add("gnetworkemail",function(t,e){t.addShortcut("ctrl+e",t.getLang("gnetwork.gnetworkemail-title"),"gnetworkemail"),t.addCommand("gnetworkemail",function(){var e=t.selection.getContent();t.insertContent("[email]"+(e?e+"[/email]":""))}),t.addButton("gnetworkemail",{title:t.getLang("gnetwork.gnetworkemail-attr"),icon:"icon gnetwork-tinymce-icon icon-gnetworkemail",onclick:function(){var e=t.selection.getContent();t.windowManager.open({title:t.getLang("gnetwork.gnetworkemail-title"),minWidth:450,body:[{type:"textbox",name:"email",label:t.getLang("gnetwork.gnetworkemail-email"),value:e,style:"direction:ltr;text-align:left;"},{type:"textbox",name:"text",label:t.getLang("gnetwork.gnetworkemail-text"),value:e},{type:"textbox",name:"subject",label:t.getLang("gnetwork.gnetworkemail-subject"),autofocus:e},{type:"textbox",name:"hover",label:t.getLang("gnetwork.gnetworkemail-hover")}],buttons:[{text:"Insert",subtype:"primary",onclick:"submit"},{text:"Close",onclick:"close"}],onsubmit:function(e){var a="[email"+(e.data.subject?' subject="'+e.data.subject+'"':"")+(e.data.hover?' title="'+e.data.hover+'"':"");e.data.email&&e.data.text&&e.data.text===e.data.email?t.insertContent(a+"]"+e.data.email+"[/email]"):e.data.text?e.data.email?t.insertContent(a+' email="'+e.data.email+'"]'+e.data.text+"[/email]"):t.insertContent(a+' content="'+e.data.text+'" /]'):t.insertContent(a+"]"+e.data.email+"[/email]")}})}})})}(window.tinymce);