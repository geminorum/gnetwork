window.addEventListener("load",function(){const l=document.createRange().createContextualFragment(document.querySelector("#playback-buttons-template").innerHTML);[].slice.call(document.querySelectorAll(".mejs-container")).forEach(function(e,t){const a=e.querySelector("audio,video");[].slice.call(l.querySelectorAll(".playback-rate-button")).forEach(function(e){e.setAttribute("aria-controls",a.id)});var c,e=e.querySelector(".mejs-controls");e&&(c=e.querySelector(".mejs-duration-container"),e.querySelector(".playback-rate-button")||c.parentNode.insertBefore(l.cloneNode(!0),c.nextSibling))})}),[].slice.call(document.querySelectorAll("audio,video")).forEach(function(e){e.addEventListener("loadedmetadata",function(e){var t=e.target.closest(".mejs-container");let a,c;t?(a=t.querySelector(".playback-rate-button.mejs-active"),c=a.dataset.value):(a=document.querySelector(".playback-rate-button.mejs-active, .playback-rate-button.active-playback-rate"))&&(c=a.dataset.value),c&&(e.target.playbackRate=c)})}),document.body.addEventListener("click",function(e){if(e.target&&e.target.classList.contains("playback-rate-button")){var t=e.target.getAttribute("aria-controls"),t=document.getElementById(t);const a=e.target.dataset.value;if(a){t?t.playbackRate=a:[].slice.call(document.querySelectorAll("audio, video")).forEach(function(e){e.playbackRate=a});let e;t&&(e=t.closest(".mejs-container")),t&&e||(e=t||document.body),[].slice.call(e.querySelectorAll(".playback-rate-button")).map(function(e){return e.classList.remove("mejs-active","active-playback-rate"),e}),[].slice.call(e.querySelectorAll(".playback-rate-button")).forEach(function(e){a&&e.dataset.value===a&&e.classList.add("mejs-active","active-playback-rate")})}}});